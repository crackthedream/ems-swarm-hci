"use strict";exports.id=603,exports.ids=[603],exports.modules={9603:(e,t,a)=>{a.d(t,{Z:()=>VideoPlayer});var d=a(784),r=a(9885),o=a(9133);function VideoPlayer({src:e,poster:t,title:a,caption:l,className:s="",autoplay:n=!1,loop:i=!1,muted:c=!0,controls:h=!0}){let[v,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!0),[y,g]=(0,r.useState)(null),p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=p.current;if(!e)return;let handleError=t=>{let a=e.error,d="Failed to load video.";if(a)switch(a.code){case a.MEDIA_ERR_ABORTED:d="Video loading was aborted.";break;case a.MEDIA_ERR_NETWORK:d="Network error while loading video.";break;case a.MEDIA_ERR_DECODE:d="Video decoding error. The video codec may not be supported. Try re-encoding the video to H.264.";break;case a.MEDIA_ERR_SRC_NOT_SUPPORTED:d="Video format not supported by your browser.";break;default:d=`Video error (code: ${a.code}). The video may need to be re-encoded to H.264 format.`}console.error("Video error details:",{code:a?.code,message:a?.message,src:e.src,networkState:e.networkState,readyState:e.readyState,videoWidth:e.videoWidth,videoHeight:e.videoHeight}),g(d),x(!1)},handleCanPlay=()=>{x(!1),g(null)},handleLoadedMetadata=()=>{x(!1),console.log("Video metadata loaded successfully:",{duration:e.duration,videoWidth:e.videoWidth,videoHeight:e.videoHeight,readyState:e.readyState,src:e.src})},handleLoadStart=()=>{console.log("Video load started:",e.src),x(!0),g(null)},handleStalled=()=>{console.warn("Video loading stalled")};return e.addEventListener("error",handleError),e.addEventListener("canplay",handleCanPlay),e.addEventListener("loadedmetadata",handleLoadedMetadata),e.addEventListener("loadstart",handleLoadStart),e.addEventListener("stalled",handleStalled),()=>{e.removeEventListener("error",handleError),e.removeEventListener("canplay",handleCanPlay),e.removeEventListener("loadedmetadata",handleLoadedMetadata),e.removeEventListener("loadstart",handleLoadStart),e.removeEventListener("stalled",handleStalled)}},[e]),(0,d.jsxs)("div",{className:`relative ${s}`,children:[(0,d.jsxs)("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-black/5 dark:bg-black/20",children:[m&&!y&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 dark:bg-slate-800 z-10",children:d.jsx("div",{className:"text-slate-400 dark:text-slate-500",children:"Loading video..."})}),y&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 dark:bg-slate-800 z-10 p-4",children:(0,d.jsxs)("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-500 dark:text-red-400 mb-2",children:"⚠️"}),d.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:y}),(0,d.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-500 mt-2",children:["File: ",e.split("/").pop()]})]})}),(0,d.jsxs)("video",{ref:p,src:encodeURI((0,o.K3)(e)),poster:t?encodeURI((0,o.K3)(t)):void 0,className:"w-full h-auto rounded-lg",controls:h,autoPlay:n,loop:i,muted:c,playsInline:!0,preload:"metadata",onPlay:()=>{u(!0),p.current&&p.current.play().catch(e=>{console.error("Play error:",e),g("Unable to play video. Please try clicking the play button.")})},onPause:()=>{u(!1),p.current&&p.current.pause()},children:[d.jsx("source",{src:encodeURI((0,o.K3)(e)),type:"video/mp4"}),"Your browser does not support the video tag."]})]}),a&&d.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2 text-navy dark:text-white",children:a}),l&&d.jsx("p",{className:"figure-caption mt-1",children:l})]})}}};