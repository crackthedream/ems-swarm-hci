"use strict";exports.id=603,exports.ids=[603],exports.modules={9603:(e,t,a)=>{a.d(t,{Z:()=>VideoPlayer});var d=a(784),r=a(9885);function VideoPlayer({src:e,poster:t,title:a,caption:o,className:l="",autoplay:s=!1,loop:n=!1,muted:i=!0,controls:c=!0}){let[h,v]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!0),[x,y]=(0,r.useState)(null),g=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=g.current;if(!e)return;let handleError=t=>{let a=e.error,d="Failed to load video.";if(a)switch(a.code){case a.MEDIA_ERR_ABORTED:d="Video loading was aborted.";break;case a.MEDIA_ERR_NETWORK:d="Network error while loading video.";break;case a.MEDIA_ERR_DECODE:d="Video decoding error. The video codec may not be supported. Try re-encoding the video to H.264.";break;case a.MEDIA_ERR_SRC_NOT_SUPPORTED:d="Video format not supported by your browser.";break;default:d=`Video error (code: ${a.code}). The video may need to be re-encoded to H.264 format.`}console.error("Video error details:",{code:a?.code,message:a?.message,src:e.src,networkState:e.networkState,readyState:e.readyState,videoWidth:e.videoWidth,videoHeight:e.videoHeight}),y(d),m(!1)},handleCanPlay=()=>{m(!1),y(null)},handleLoadedMetadata=()=>{m(!1),console.log("Video metadata loaded successfully:",{duration:e.duration,videoWidth:e.videoWidth,videoHeight:e.videoHeight,readyState:e.readyState,src:e.src})},handleLoadStart=()=>{console.log("Video load started:",e.src),m(!0),y(null)},handleStalled=()=>{console.warn("Video loading stalled")};return e.addEventListener("error",handleError),e.addEventListener("canplay",handleCanPlay),e.addEventListener("loadedmetadata",handleLoadedMetadata),e.addEventListener("loadstart",handleLoadStart),e.addEventListener("stalled",handleStalled),()=>{e.removeEventListener("error",handleError),e.removeEventListener("canplay",handleCanPlay),e.removeEventListener("loadedmetadata",handleLoadedMetadata),e.removeEventListener("loadstart",handleLoadStart),e.removeEventListener("stalled",handleStalled)}},[e]),(0,d.jsxs)("div",{className:`relative ${l}`,children:[(0,d.jsxs)("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-black/5 dark:bg-black/20",children:[u&&!x&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 dark:bg-slate-800 z-10",children:d.jsx("div",{className:"text-slate-400 dark:text-slate-500",children:"Loading video..."})}),x&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 dark:bg-slate-800 z-10 p-4",children:(0,d.jsxs)("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-500 dark:text-red-400 mb-2",children:"⚠️"}),d.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:x}),(0,d.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-500 mt-2",children:["File: ",e.split("/").pop()]})]})}),(0,d.jsxs)("video",{ref:g,src:encodeURI(e),poster:t?encodeURI(t):void 0,className:"w-full h-auto rounded-lg",controls:c,autoPlay:s,loop:n,muted:i,playsInline:!0,preload:"metadata",onPlay:()=>{v(!0),g.current&&g.current.play().catch(e=>{console.error("Play error:",e),y("Unable to play video. Please try clicking the play button.")})},onPause:()=>{v(!1),g.current&&g.current.pause()},children:[d.jsx("source",{src:encodeURI(e),type:"video/mp4"}),"Your browser does not support the video tag."]})]}),a&&d.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2 text-navy dark:text-white",children:a}),o&&d.jsx("p",{className:"figure-caption mt-1",children:o})]})}}};